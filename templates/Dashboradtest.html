<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Specific chart company</title>
  
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Athiti:wght@200;300;400;500;600;700&display=swap" rel="stylesheet">
    

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://themewagon.github.io/mazer/dist/assets/css/bootstrap.css">

    <!-- <link rel="stylesheet" href="https://themewagon.github.io/mazer/dist/assets/vendors/apexcharts/apexcharts.css"> -->

    <link rel="stylesheet"
        href="https://themewagon.github.io/mazer/dist/assets/vendors/perfect-scrollbar/perfect-scrollbar.css">
    <link rel="stylesheet"
        href="https://themewagon.github.io/mazer/dist/assets/vendors/bootstrap-icons/bootstrap-icons.css">
    <link rel="stylesheet" href="https://themewagon.github.io/mazer/dist/assets/css/app.css">
    <link rel="shortcut icon" href="https://themewagon.github.io/mazer/dist/assets/images/favicon.svg"
        type="image/x-icon">


    <script
        src="https://themewagon.github.io/mazer/dist/assets/vendors/perfect-scrollbar/perfect-scrollbar.min.js"></script>
    <script src="https://themewagon.github.io/mazer/dist/assets/js/bootstrap.bundle.min.js"></script>

    <script src="https://themewagon.github.io/mazer/dist/assets/vendors/dayjs/dayjs.min.js"></script>
    <script src="https://themewagon.github.io/mazer/dist/assets/vendors/apexcharts/apexcharts.js"></script>
    <script src="https://themewagon.github.io/mazer/dist/assets/js/pages/ui-apexchart.js"></script>



    <script src="https://themewagon.github.io/mazer/dist/assets/js/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
</head>

<body>
    <div id="app">
        <div id="sidebar" class="active">
            <div class="sidebar-wrapper active">
                <div class="sidebar-header">
                    <div class="d-flex justify-content-between">
                        <div class="logo">
                            
                            <a href="/DashTotalComTest" class="card-title">UK company data</a>
                        </div>
                        <div class="toggler">
                            <a href="#" class="sidebar-hide d-xl-none d-block"><i class="bi bi-x bi-middle"></i></a>
                        </div>
                    </div>
                </div>
                <div class="sidebar-menu">
                    <ul class="menu">
                        <li class="sidebar-item  has-sub active">
                            <a href="#" class='sidebar-link'>
                                <i class="bi bi-bar-chart-fill"></i>
                                <span>Dashboard</span>
                            </a>
                            <ul class="submenu ">
                                <!-- <li class="submenu-item ">
                                    <a href="/Dashboradtest/{company_id}">Specific company</a>
                                </li> -->
                                <li class="submenu-item ">
                                    <a href="/DashTotalComTest">Total chart all company</a>
                                </li>
                            </ul>
                        </li>


                        <li class="sidebar-item  ">
                            <a href="/top10" class='sidebar-link'>
                                <i class="bi bi-align-top"></i>
                                <span>Top 10 investor</span>
                            </a>
                        </li>
                        <li class="sidebar-title">Menu</li>

                        <!-- <li class="sidebar-item  ">
                            <a href="index.html" class='sidebar-link'>
                                <i class="bi bi-grid-fill"></i>
                                <span>Dashboard</span>
                            </a>
                        </li> -->

                        <!-- <li class="sidebar-item  has-sub">
                            <a href="#" class='sidebar-link'>
                                <i class="bi bi-stack"></i>
                                <span>Components</span>
                            </a>
                            <ul class="submenu ">
                                <li class="submenu-item ">
                                    <a href="component-alert.html">Alert</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="component-badge.html">Badge</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="component-breadcrumb.html">Breadcrumb</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="component-button.html">Button</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="component-card.html">Card</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="component-carousel.html">Carousel</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="component-dropdown.html">Dropdown</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="component-list-group.html">List Group</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="component-modal.html">Modal</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="component-navs.html">Navs</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="component-pagination.html">Pagination</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="component-progress.html">Progress</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="component-spinner.html">Spinner</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="component-tooltip.html">Tooltip</a>
                                </li>
                            </ul>
                        </li> -->

                        <!-- <li class="sidebar-item  has-sub">
                            <a href="#" class='sidebar-link'>
                                <i class="bi bi-collection-fill"></i>
                                <span>Extra Components</span>
                            </a>
                            <ul class="submenu ">
                                <li class="submenu-item ">
                                    <a href="extra-component-avatar.html">Avatar</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="extra-component-sweetalert.html">Sweet Alert</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="extra-component-toastify.html">Toastify</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="extra-component-rating.html">Rating</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="extra-component-divider.html">Divider</a>
                                </li>
                            </ul>
                        </li> -->

                        <!-- <li class="sidebar-item  has-sub">
                            <a href="#" class='sidebar-link'>
                                <i class="bi bi-grid-1x2-fill"></i>
                                <span>Layouts</span>
                            </a>
                            <ul class="submenu ">
                                <li class="submenu-item ">
                                    <a href="layout-default.html">Default Layout</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="layout-vertical-1-column.html">1 Column</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="layout-vertical-navbar.html">Vertical with Navbar</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="layout-horizontal.html">Horizontal Menu</a>
                                </li>
                            </ul>
                        </li> -->

                        <!-- <li class="sidebar-title">Forms &amp; Tables</li> -->

                        <!-- <li class="sidebar-item  has-sub">
                            <a href="#" class='sidebar-link'>
                                <i class="bi bi-hexagon-fill"></i>
                                <span>Form Elements</span>
                            </a>
                            <ul class="submenu ">
                                <li class="submenu-item ">
                                    <a href="form-element-input.html">Input</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="form-element-input-group.html">Input Group</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="form-element-select.html">Select</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="form-element-radio.html">Radio</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="form-element-checkbox.html">Checkbox</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="form-element-textarea.html">Textarea</a>
                                </li>
                            </ul>
                        </li> -->


                        <li class="sidebar-item  has-sub">
                            <a href="#" class='sidebar-link'>
                                <i class="bi bi-menu-button-wide-fill"></i>
                                <span>Tables & form</span>
                            </a>
                            <ul class="submenu ">
                                <li class="submenu-item ">

                                    <a href="/table">Tables</a>
                                </li>

                                <li class="submenu-item ">
                                    <a href="/create">Create company form</a>
                                </li>
                                <!-- <li class="submenu-item ">
                                    <a href="/top10">Top 10</a>
                                </li> -->
                            </ul>
                        </li>


                        <!-- <li class="sidebar-item  has-sub">
                            <a href="#" class='sidebar-link'>
                                <i class="bi bi-egg-fill"></i>
                                <span>Icons</span>
                            </a>
                            <ul class="submenu ">
                                <li class="submenu-item ">
                                    <a href="ui-icons-bootstrap-icons.html">Bootstrap Icons </a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="ui-icons-fontawesome.html">Fontawesome</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="ui-icons-dripicons.html">Dripicons</a>
                                </li>
                            </ul>
                        </li> -->








                        <!--                        
                        <li class="sidebar-item  ">
                            <a href="/create" class='sidebar-link'>
                                <i class="bi bi-pen-fill"></i>
                                <span>Create company form</span>
                            </a>
                        </li>

                        <li class="sidebar-item  ">
                            <a href="/table" class='sidebar-link'>
                                <i class="bi bi-file-earmark-spreadsheet-fill"></i>
                                <span>Table</span>
                            </a>
                        </li> -->

                        <!-- <li class="sidebar-item  has-sub">
                            <a href="#" class='sidebar-link'>
                                <i class="bi bi-pen-fill"></i>
                                <span>Form Editor</span>
                            </a>
                            <ul class="submenu ">
                                <li class="submenu-item ">
                                    <a href="form-editor-quill.html">Quill</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="form-editor-ckeditor.html">CKEditor</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="form-editor-summernote.html">Summernote</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="form-editor-tinymce.html">TinyMCE</a>
                                </li>
                            </ul>
                        </li> -->

                        <!-- <li class="sidebar-item  ">
                            <a href="/top10" class='sidebar-link'>
                                <i class="bi bi-align-top"></i>
                                <span>Top 10 investor</span>
                            </a>
                        </li>

                        -->

                        <!-- <li class="sidebar-title">Dashboard</li> -->

                        <!-- <li class="sidebar-item  has-sub">
                            <a href="#" class='sidebar-link'>
                                <i class="bi bi-pentagon-fill"></i>
                                <span>Widgets</span>
                            </a>
                            <ul class="submenu ">
                                <li class="submenu-item ">
                                    <a href="ui-widgets-chatbox.html">Chatbox</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="ui-widgets-pricing.html">Pricing</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="ui-widgets-todolist.html">To-do List</a>
                                </li>
                            </ul>
                        </li> -->

                        <!-- <li class="sidebar-item  has-sub">
                            <a href="#" class='sidebar-link'>
                                <i class="bi bi-egg-fill"></i>
                                <span>Icons</span>
                            </a>
                            <ul class="submenu ">
                                <li class="submenu-item ">
                                    <a href="ui-icons-bootstrap-icons.html">Bootstrap Icons </a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="ui-icons-fontawesome.html">Fontawesome</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="ui-icons-dripicons.html">Dripicons</a>
                                </li>
                            </ul>
                        </li> -->



                        <!-- <li class="sidebar-item  ">
                            <a href="ui-file-uploader.html" class='sidebar-link'>
                                <i class="bi bi-cloud-arrow-up-fill"></i>
                                <span>File Uploader</span>
                            </a>
                        </li> -->

                        <!-- <li class="sidebar-item  has-sub">
                            <a href="#" class='sidebar-link'>
                                <i class="bi bi-map-fill"></i>
                                <span>Maps</span>
                            </a>
                            <ul class="submenu ">
                                <li class="submenu-item ">
                                    <a href="ui-map-google-map.html">Google Map</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="ui-map-jsvectormap.html">JS Vector Map</a>
                                </li>
                            </ul>
                        </li> -->

                        <!-- <li class="sidebar-title">Login & Register</li> -->

                        <!-- <li class="sidebar-item  ">
                            <a href="application-email.html" class='sidebar-link'>
                                <i class="bi bi-envelope-fill"></i>
                                <span>Email Application</span>
                            </a>
                        </li>

                        <li class="sidebar-item  ">
                            <a href="application-chat.html" class='sidebar-link'>
                                <i class="bi bi-chat-dots-fill"></i>
                                <span>Chat Application</span>
                            </a>
                        </li>

                        <li class="sidebar-item  ">
                            <a href="application-gallery.html" class='sidebar-link'>
                                <i class="bi bi-image-fill"></i>
                                <span>Photo Gallery</span>
                            </a>
                        </li>

                        <li class="sidebar-item  ">
                            <a href="application-checkout.html" class='sidebar-link'>
                                <i class="bi bi-basket-fill"></i>
                                <span>Checkout Page</span>
                            </a>
                        </li> -->

                        <li class="sidebar-title">Authentication</li>
                        <li class="sidebar-item  has-sub">
                            <a href="#" class='sidebar-link'>
                                <i class="bi bi-person-badge-fill"></i>
                                <span>Login & Register</span>
                            </a>
                            <ul class="submenu ">
                                <li class="submenu-item ">
                                    <a href="/logintest">Login</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="/register">Register</a>
                                </li>
                            </ul>
                        </li>

                        <!-- <li class="sidebar-item  has-sub">
                            <a href="#" class='sidebar-link'>
                                <i class="bi bi-x-octagon-fill"></i>
                                <span>Errors</span>
                            </a>
                            <ul class="submenu ">
                                <li class="submenu-item ">
                                    <a href="error-403.html">403</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="error-404.html">404</a>
                                </li>
                                <li class="submenu-item ">
                                    <a href="error-500.html">500</a>
                                </li>
                            </ul>
                        </li> -->

                        <!-- <li class="sidebar-title">Raise Support</li>

                        <li class="sidebar-item  ">
                            <a href="https://zuramai.github.io/mazer/docs" class='sidebar-link'>
                                <i class="bi bi-life-preserver"></i>
                                <span>Documentation</span>
                            </a>
                        </li>

                        <li class="sidebar-item  ">
                            <a href="https://github.com/zuramai/mazer/blob/main/CONTRIBUTING.md" class='sidebar-link'>
                                <i class="bi bi-puzzle"></i>
                                <span>Contribute</span>
                            </a>
                        </li>

                        <li class="sidebar-item  ">
                            <a href="https://github.com/zuramai/mazer#donate" class='sidebar-link'>
                                <i class="bi bi-cash"></i>
                                <span>Donate</span>
                            </a>
                        </li> -->

                    </ul>
                </div>
                <button class="sidebar-toggler btn x"><i data-feather="x"></i></button>
            </div>
        </div>


        <div id="main">
            <header class="mb-3">
                <a href="#" class="burger-btn d-block d-xl-none">
                    <i class="bi bi-justify fs-3"></i>
                </a>


                <div class="page-title">
                    <div class="row">
                        <div class="col-12 col-md-6 order-md-1 order-last">
                            <h3>Specific Chart Company</h3>
                            <!-- <p class="text-subtitle text-muted">กราฟแสดงยอดรวมของบริษัททั้งหมดในสหราชอาณาจักร(UK) </p> -->
                        </div>
                        <div class="col-12 col-md-6 order-md-2 order-first">
                            <nav aria-label="breadcrumb" class="breadcrumb-header float-start float-lg-end">
                                <ol class="breadcrumb">

                                    <div class="col-md-11 mb-6">
                                        <form action="/DashTotalComTest" >
                                            <div class="input-group mb-6">
                                                
                                                <button class="btn btn-outline-secondary" type="submit"
                                                    id="button-addon2">ไปแดชบอร์ดรวม</button>
                                            </div>
                                        </form>
                                    </div>


                                </ol>
                            </nav>
                        </div>
                    </div>
                </div>
            </header>


            <section class="section">
                <div class="card">
                    <div class="card-header">
                        UK Companies Dataset 
                    </div>
                    <div class="card-body">
                        <table class="table table-striped" id="table1">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>URL</th>
                                    <th>Name</th>
                                    <th>Website</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% if CompanyInfo %}
                                <tr>
                                    <td>{{ CompanyInfo.company_idUK }}</td>
                                    <td>{{ CompanyInfo.url }}</td>
                                    <td>{{ CompanyInfo.name }}</td>
                                    <td>{{ CompanyInfo.website }}</td>
                                    <td>{{ CompanyInfo.description_short }}</td>
                                {% else %}
                                     <p>No data found for this company.</p> 
                                </tr>
                                {% endif %}
                            </tbody>
                        </table>
                    </div>
                </div>

            </section>

            <section class="section">
                <div class="container">
                    <!-- Row 1 -->
                    <div class="row mb-1">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h4 class="card-title">Total Employee chart</h4>
                                    <!-- กล่องเปล่าด้วย div -->
                                    <!-- <div style="width: 200px; height: 98px; border: 0px transparent #ffffff; background-color: transparent;"></div> -->

                                    
                                    
                                </div>
                                <div class="card-body">
                                    <div id="barChart1"></div>

                                        <p style="font-size: 18px; line-height: 0.2; font-weight: bold;">company people : {{CompanyEmployee.people_count}}</p>
                                        <p style="font-size: 18px; line-height: 0.2; font-weight: bold;">company clients : {{CompanyEmployee.senior_people_count}}</p>
                                        <!-- <p style="font-size: 18px; line-height: 0.2; font-weight: bold;">company partners : {{CompanyBenefits.partners_count}}</p> -->
                                    <script> 
                                    const companyData = {
                                        
                                        Company_Employee: {{ CompanyEmployee | default({}) | tojson }}
                                    };

                                    
                                    console.log(companyData.Company_Employee.people_count); // ตัวอย่างการเข้าถึงจำนวนพนักงาน
                                    console.log(companyData.Company_Employee.senior_people_count);

                                        

                                        // คอนฟิก ApexChart
                                        var barOptions = {
                                            series: [{
                                                name: 'Amount',
                                                data: [
                                                    companyData.Company_Employee?.people_count || 0,
                                                    companyData.Company_Employee?.senior_people_count || 0

                                                ]
                                            }],
                                            chart: {
                                                height: 350,
                                                type: 'bar',
                                            },
                                            colors: ['#FF0000', '#FFA500'], // ตัวอย่างสีของบาร์
                                            plotOptions: {
                                                bar: {
                                                    columnWidth: '45%',
                                                    distributed: true,
                                                    borderRadius: 5
                                                }
                                            },
                                            dataLabels: {
                                                enabled: false
                                            },
                                            legend: {
                                                show: false
                                            },
                                            xaxis: {
                                                categories: ["People Count", "Senior People Count"],
                                                labels: {
                                                    style: {
                                                        colors: ['#FF0000', '#FFA500'],
                                                        fontSize: '12px'
                                                    }
                                                }
                                            },
                                            yaxis: {
                                                min: 0,
                                                max: totalPeopleCount + 20, // ปรับค่าสูงสุดตามข้อมูล
                                                title: {
                                                    text: 'Number of Employees'
                                                }
                                            },
                                            title: {
                                                text: 'Total Company Employee',
                                                align: 'center'
                                            }
                                        };

                                        var barChart1 = new ApexCharts(document.querySelector("#barChart1"), barOptions);
                                        barChart1.render();
                                        
                                    </script>
                                    <!-- Add your JavaScript for this chart -->
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h4 class="card-title">Total Contacts Chart</h4>
                                    <div class="">
                                        <p style="font-size: 18px; line-height: 0.2; font-weight: bold;">company email : {{CompanyContact.emails_count}}</p>
                                        <p style="font-size: 18px; line-height: 0.2; font-weight: bold;">company personal emails : {{CompanyContact.personal_emails_count }}</p>
                                        <p style="font-size: 18px; line-height: 0.2; font-weight: bold;">company phone count : {{CompanyContact.emails_count}}</p>
                                        <p style="font-size: 18px; line-height: 0.2; font-weight: bold;">company address count : {{CompanyContact.personal_emails_count}}</p>
                                        
                                    </div>
                                   
                                    
                                </div>
                                <div class="card-body">
                                    <div id="radialBar1"></div>
                                    <script>
                                    const companyData2 = {
                                      
                                        Company_Contact: {{ CompanyContact | default({}) | tojson }}
                                       
                                    };

                                    console.log(companyData2.Company_Contact.emails_count); 
                                    console.log(companyData2.Company_Contact.personal_emails_count); 
                                    console.log(companyData2.Company_Contact.phones_count); 
                                    console.log(companyData2.Company_Contact.addresses_count); 


                                    cpEmailsCount = companyData2.Company_Contact?.emails_count || 0,
                                    cpPersonalEmailsCount = companyData2.Company_Contact?.personal_emails_count || 0,
                                    cpPhonesCount = companyData2.Company_Contact?.phones_count || 0,
                                    cpAddressesCount =companyData2.Company_Contact?.addresses_count || 0

                                        var chartColors = {
                                            blue: '#6d6875',
                                            fuchsia: '#b5838d',
                                            green: '#e5989b',
                                            peacock: '#ffcdb2'
                                        };

                                        // คำนวณเปอร์เซ็นต์สำหรับแต่ละประเภท
                                        const totaltcp = cpEmailsCount + cpPersonalEmailsCount + cpPhonesCount + cpAddressesCount;

                                        const percentageEmailsCp = (cpEmailsCount / totaltcp) * 100;
                                        const percentagePersonalEmailsCp = (cpPersonalEmailsCount / totaltcp) * 100;
                                        const percentagePhonesCp = (cpPhonesCount / totaltcp) * 100;
                                        const percentageAddressesCp = (cpAddressesCount / totaltcp) * 100;

                                        var circleOptions = {
                                            series: [percentageEmailsCp, percentagePersonalEmailsCp, percentagePhonesCp, percentageAddressesCp], // ใส่ค่าที่เป็นเปอร์เซ็นต์
                                            chart: {
                                                height: 390,
                                                type: 'radialBar'
                                            },
                                            plotOptions: {
                                                radialBar: {
                                                    offsetY: 0,
                                                    startAngle: 0,
                                                    endAngle: 270,
                                                    hollow: {
                                                        margin: 5,
                                                        size: '30%',
                                                        background: 'transparent',
                                                        image: undefined
                                                    },
                                                    dataLabels: {
                                                        name: {
                                                            show: true,
                                                            fontSize: '16px', // ขนาดของชื่อ
                                                            color: '#39539e', // สีของชื่อ
                                                            offsetY: -10 // ระยะห่างจากกลางกราฟ
                                                        },
                                                        value: {
                                                            show: true,
                                                            formatter: function (val) {
                                                                // return val; 
                                                            }
                                                        },
                                                        barLabels: {
                                                            enabled: true,
                                                            useSeriesColors: true,
                                                            offsetX: -8,
                                                            fontSize: '16px',
                                                            formatter: function (seriesName, opts) {
                                                                return seriesName + ":  " + opts.w.globals.series[opts.seriesIndex]
                                                            },
                                                        },
                                                    }
                                                }
                                            },
                                            colors: [chartColors.blue, chartColors.fuchsia, chartColors.green, chartColors.peacock],
                                            labels: ['Emails', 'Personal Emails', 'Phones', 'Addresses'],
                                            responsive: [{
                                                breakpoint: 480,
                                                options: {
                                                    legend: {
                                                        show: false
                                                    }
                                                }
                                            }]
                                        };

                                        var radialBar1 = new ApexCharts(document.querySelector("#radialBar1"), circleOptions);
                                        radialBar1.render();</script>

                                    <!-- Add your JavaScript for this chart -->
                                </div>
                            </div>
                        </div>
                    </div>
        
                    <!-- Row 2 -->
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h4 class="card-title">Total Benefit Chart</h4>
                                    <div class="">
                                        <p style="font-size: 18px; line-height: 0.2; font-weight: bold;">company investors : {{CompanyBenefits.investors_count}}</p>
                                        <p style="font-size: 18px; line-height: 0.2; font-weight: bold;">company clients : {{CompanyBenefits.clients_count}}</p>
                                        <p style="font-size: 18px; line-height: 0.2; font-weight: bold;">company partners : {{CompanyBenefits.partners_count}}</p>
                                        
                                        
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div id="radialBar2"></div>

                                    <!-- Add your JavaScript for this chart -->
                                     <script> const companyData3 = {
                                        Company_Benefits: {{ CompanyBenefits | default({}) | tojson }}
                                        
                                    };


                                    // Data for Horizontal Bar Chart
                                    console.log(companyData3.Company_Benefits.investors_count);  
                                    console.log(companyData3.Company_Benefits.clients_count); 
                                    console.log(companyData3.Company_Benefits.partners_count); 



                                        var chartColors = {
                                            blue: '#96DED1',
                                            fuchsia: '#1434A4',
                                            green: '#0096FF',
                                            peacock: '#89CFF0'
                                        };

                                        // คำนวณเปอร์เซ็นต์สำหรับแต่ละประเภท
                                        const totalbcp = companyData3.Company_Benefits?.investors_count || 0
                                        + companyData3.Company_Benefits?.clients_count || 0 + companyData3.Company_Benefits?.partners_count || 0
                                        ;

                                        const percentageInvestorsCp = (companyData3.Company_Benefits?.investors_count || 0 / totalb) * 100;
                                        const percentageClientCp = (companyData3.Company_Benefits?.clients_count || 0  / totalb) * 100;
                                        const percentagePartnersCp = (companyData3.Company_Benefits?.partners_count  / totalb) * 100;
                                       

                                        var circleOptions = {
                                            series: [percentageInvestorsCp, percentageClientCp, percentagePartnersCp], // ใส่ค่าที่เป็นเปอร์เซ็นต์
                                            chart: {
                                                height: 390,
                                                type: 'radialBar'
                                            },
                                            plotOptions: {
                                                radialBar: {
                                                    offsetY: 0,
                                                    startAngle: 0,
                                                    endAngle: 270,
                                                    hollow: {
                                                        margin: 5,
                                                        size: '30%',
                                                        background: 'transparent',
                                                        image: undefined
                                                    },
                                                    dataLabels: {
                                                        name: {
                                                            show: true,
                                                            fontSize: '16px', // ขนาดของชื่อ
                                                            color: '#39539e', // สีของชื่อ
                                                            offsetY: -10 // ระยะห่างจากกลางกราฟ
                                                        },
                                                        value: {
                                                            show: true,
                                                            formatter: function (val) {
                                                                // return val; 
                                                            }
                                                        },
                                                        barLabels: {
                                                            enabled: true,
                                                            useSeriesColors: true,
                                                            offsetX: -8,
                                                            fontSize: '16px',
                                                            formatter: function (seriesName, opts) {
                                                                return seriesName + ":  " + opts.w.globals.series[opts.seriesIndex]
                                                            },
                                                        },
                                                    }
                                                }
                                            },
                                            colors: [chartColors.blue, chartColors.fuchsia, chartColors.green, chartColors.peacock],
                                            labels: ['Investors', 'Clients', 'Partners'],
                                            responsive: [{
                                                breakpoint: 480,
                                                options: {
                                                    legend: {
                                                        show: false
                                                    }
                                                }
                                            }]
                                        };

                                        var radialBar2 = new ApexCharts(document.querySelector("#radialBar2"), circleOptions);
                                        radialBar2.render();</script>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h4 class="card-title">Total Change Chart</h4>
                                    <p style="font-size: 18px; line-height: 0.2; font-weight: bold;">company changes : {{CompanyChange.changes_count}}</p>
                                    <p style="font-size: 18px; line-height: 0.2; font-weight: bold;">company senior people changes : {{CompanyChange.senior_people_count}}</p>
                                    <p style="font-size: 18px; line-height: 0.2; font-weight: bold;">company contact changes  : {{CompanyChange.contact_changes_count}}</p>
                                    <!-- <div style="width: 200px; height: 87px; border: 0px transparent #ffffff; background-color: transparent;"></div> -->
                                </div>
                                <div class="card-body">
                                    <div id="barChart2"></div>
                                    <!-- Add your JavaScript for this chart -->
                                     <script>  // ข้อมูลพนักงานในบริษัท
                                       const companyData4 = {
                                        
                                        Company_Change: {{ CompanyChange | default({}) | tojson }}
                                        
                                    };

                                    console.log(companyData4.Company_Change.changes_count); 
                                    console.log(companyData4.Company_Change.people_changes_count);
                                    console.log(companyData4.Company_Change.contact_changes_count);


                                  

                                        // คอนฟิก ApexChart
                                        var barOptions = {
                                            series: [{
                                                name: 'Amount',
                                                // data: [companyData4.Company_Change?.changes_count || 0,  companyData4.Company_Change?.people_changes_count || 0, companyData4.Company_Change?.contact_changes_count || 0
                                                // ]
                                                data: [companyData4.Company_Change?.changes_count || 0,  companyData4.Company_Change?.people_changes_count || 0, companyData4.Company_Change?.contact_changes_count || 0
                                                ]
                                            }],
                                            chart: {
                                                height: 350,
                                                type: 'bar',
                                            },
                                            colors: ['#AFE1AF', '#097969','#5F9EA0'], // ตัวอย่างสีของบาร์
                                            plotOptions: {
                                                bar: {
                                                    columnWidth: '45%',
                                                    distributed: true,
                                                    borderRadius: 5
                                                }
                                            },
                                            dataLabels: {
                                                enabled: false
                                            },
                                            legend: {
                                                show: false
                                            },
                                            xaxis: {
                                                categories: ["totalChangesCount", "totalPeopleChangesCount","totalContactChangesCount"],
                                                labels: {
                                                    style: {
                                                        colors: ['#AFE1AF', '#097969','#5F9EA0'],
                                                        fontSize: '12px'
                                                    }
                                                }
                                            },
                                            yaxis: {
                                                min: 0,
                                                max: totalChangesCount + 20, // ปรับค่าสูงสุดตามข้อมูล
                                                title: {
                                                    text: 'Number of Changes'
                                                }
                                            },
                                            title: {
                                                text: 'Total Company changes',
                                                align: 'center'
                                            }
                                        };

                                        var barChart2 = new ApexCharts(document.querySelector("#barChart2"), barOptions);
                                        barChart2.render();</script>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
                

                

            

            <footer>
                <div class="footer clearfix mb-0 text-muted">
                    <div class="float-start">
                        <p>2021 &copy; Mazer</p>
                    </div>
                    <div class="float-end">
                        <p>Crafted with <span class="text-danger"><i class="bi bi-heart"></i></span> by <a
                                href="http://ahmadsaugi.com">A. Saugi</a></p>
                    </div>
                </div>
            </footer>
        </div>

        
    </div>


   

</body>

</html>